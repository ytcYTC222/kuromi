# 商城后台管理系统完整说明文档

## 项目概述

本项目是一个完整的商城生态系统，包含三个核心子项目，为用户提供从前端购物到后台管理的完整解决方案：

1. **微信小程序 (222目录)** - C端用户购物平台
2. **Spring Boot后端 (mall-admin-backend目录)** - B端后台管理API服务
3. **Vue3前端 (vue3-admin目录)** - B端后台管理界面

## 项目结构

```
d:\商城后台\
├── 222\                                   # 微信小程序项目
│   ├── Mysql\database_design.sql          # 完整数据库设计
│   ├── server\                            # Node.js后端服务
│   │   ├── routes\                        # API路由 (11个模块)
│   │   ├── config\database.js             # 数据库配置
│   │   ├── app.js                         # 主应用文件
│   │   └── package.json                   # 依赖配置
│   ├── pages\                             # 小程序页面 (9个页面)
│   ├── config\api.js                      # API配置
│   └── 家具购物小程序毕业设计说明书.md     # 详细设计文档
├── mall-admin-backend\                    # Spring Boot后端
│   ├── src\main\java\com\mall\admin\      # Java源代码
│   │   ├── common\                        # 通用组件 (5个类)
│   │   ├── config\                        # 配置类 (6个类)
│   │   ├── controller\                    # 控制器 (3个类)
│   │   ├── entity\                        # 实体类 (13个类)
│   │   └── mapper\service\                # 数据访问和服务层
│   ├── src\main\resources\application.yml # 配置文件
│   └── pom.xml                            # Maven配置
└── vue3-admin\                            # Vue3前端
    ├── src\                               # 源代码
    │   ├── views\                         # 页面视图 (8个模块)
    │   ├── components\Layout\             # 布局组件
    │   ├── stores\                        # 状态管理
    │   └── api\                           # API接口
    ├── package.json                       # 依赖配置
    └── vite.config.ts                     # 构建配置
```

## 技术栈详解

### 微信小程序端 (222项目)
- **前端**: 微信小程序原生 + WXML/WXSS + JavaScript ES6+
- **后端**: Node.js + Express.js + MySQL2
- **认证**: JWT + bcryptjs
- **特性**: RESTful API、实时数据同步、完整电商流程

### Spring Boot后端 (mall-admin-backend)
- **框架**: Spring Boot 3.1.5 + Spring Web + Spring Validation
- **数据层**: MySQL 8.0 + MyBatis-Plus 3.5.4.1 + HikariCP
- **认证**: JWT 0.12.3
- **文档**: SpringDoc OpenAPI 2.2.0 + Swagger UI
- **工具**: Lombok + Maven + JDK 17

### Vue3前端 (vue3-admin)
- **框架**: Vue.js 3.5.18 + TypeScript 5.8.0 + Vite
- **UI组件**: Element Plus 2.11.2 + Element Plus Icons
- **状态管理**: Pinia 3.0.3 + Vue Router 4.5.1
- **工具库**: Axios + Day.js + ECharts + Sass

## 数据库设计

### 核心数据表 (15个主要表)
1. **用户相关**: users, user_addresses, user_favorites, user_browse_history
2. **商品相关**: products, product_images, categories, product_reviews
3. **订单相关**: orders, order_items, shopping_cart
4. **营销相关**: banners, coupons, promotions
5. **系统相关**: hot_searches, operation_logs

### 关键表结构示例

**users表** - 用户基本信息
```sql
CREATE TABLE `users` (
  `user_id` int NOT NULL AUTO_INCREMENT COMMENT '用户ID',
  `phone` varchar(20) COMMENT '手机号',
  `password` varchar(255) COMMENT '密码',
  `nickname` varchar(50) COMMENT '昵称',
  `avatar_url` varchar(500) COMMENT '头像URL',
  `status` tinyint DEFAULT 1 COMMENT '状态：0禁用，1启用',
  `registration_date` timestamp DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`user_id`),
  UNIQUE KEY `phone` (`phone`)
) COMMENT = '用户表';
```

**products表** - 商品信息
```sql
CREATE TABLE `products` (
  `product_id` int NOT NULL AUTO_INCREMENT COMMENT '商品ID',
  `product_name` varchar(200) NOT NULL COMMENT '商品名称',
  `category_id` int COMMENT '分类ID',
  `original_price` decimal(10,2) NOT NULL COMMENT '原价',
  `current_price` decimal(10,2) NOT NULL COMMENT '现价',
  `stock_quantity` int DEFAULT 0 COMMENT '库存数量',
  `sales_count` int DEFAULT 0 COMMENT '销售数量',
  `status` tinyint DEFAULT 1 COMMENT '状态：0下架，1上架',
  `create_time` timestamp DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`product_id`),
  KEY `idx_category_id` (`category_id`)
) COMMENT = '商品表';
```

## 核心功能模块

### 1. 微信小程序功能
- **首页展示**: 轮播图、促销商品、分类导航、热门商品
- **商品管理**: 商品列表、详情、搜索、筛选、收藏
- **购物车**: 添加商品、数量管理、结算
- **订单系统**: 下单、支付、状态跟踪
- **用户中心**: 登录注册、地址管理、订单历史

### 2. Spring Boot后端功能
- **统一响应**: Result封装、状态码管理
- **异常处理**: 全局异常处理、业务异常
- **API文档**: Swagger自动生成
- **数据访问**: MyBatis-Plus集成
- **配置管理**: 多环境配置支持

### 3. Vue3前端功能
- **仪表板**: 数据统计、图表展示
- **商品管理**: 商品增删改查、分类管理
- **订单管理**: 订单列表、状态管理、详情查看
- **用户管理**: 用户列表、权限管理
- **营销管理**: 轮播图、优惠券、促销活动
- **系统管理**: 配置管理、日志查看

## API接口设计

### Node.js后端API (222项目)
```
基础URL: http://192.168.8.157:3000/api

核心接口:
- GET  /home/hero          # 首页数据
- GET  /products           # 商品列表
- POST /cart/add           # 添加购物车
- POST /orders/create      # 创建订单
- POST /auth/login         # 用户登录
- GET  /search/products    # 商品搜索
```

### Spring Boot API (mall-admin-backend)
```
基础URL: http://localhost:8080/api

管理接口:
- GET  /products           # 商品管理
- GET  /orders             # 订单管理
- GET  /users              # 用户管理
- POST /auth/login         # 管理员登录

文档地址: http://localhost:8080/api/swagger-ui.html
```

## 开发环境搭建

### 环境要求
- Node.js 16.14.0+
- JDK 17+
- MySQL 8.0+
- 微信开发者工具

### 项目启动

**启动Node.js后端**:
```bash
cd 222/server
npm install
npm start
```

**启动Spring Boot后端**:
```bash
cd mall-admin-backend
mvn spring-boot:run
```

**启动Vue3前端**:
```bash
cd vue3-admin
npm install
npm run dev
```

### 数据库初始化
```sql
-- 创建数据库
CREATE DATABASE database_design CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- 导入表结构
mysql -u root -p database_design < 222/Mysql/database_design.sql

-- 导入初始数据
mysql -u root -p database_design < 222/server/init_data.sql
```

## 项目特色

### 1. 完整的电商生态
- C端用户购物体验完整
- B端管理功能齐全
- 前后端分离架构
- 微服务设计思想

### 2. 现代化技术栈
- 使用最新版本框架
- TypeScript类型安全
- 响应式设计
- 组件化开发

### 3. 规范化开发
- 统一的代码规范
- 完善的异常处理
- 详细的API文档
- 完整的数据库设计

### 4. 高性能设计
- 数据库索引优化
- 前端懒加载
- API接口缓存
- 分页查询支持

## 文档资源

本项目包含完整的技术文档：
1. **Spring Boot后端项目规范说明书.md** - 后端开发规范详解
2. **Vue3后台管理系统技术文档.md** - 前端技术实现指南
3. **家具购物小程序毕业设计说明书.md** - 小程序设计实现文档
4. **PROJECT_SUMMARY.md** - 项目功能总结
5. **项目介绍文档.md** - Spring Boot项目介绍

## 项目亮点

1. **三端一体**: 小程序端 + 管理后台 + API服务完整生态
2. **技术先进**: 使用当前最新稳定版技术栈
3. **架构清晰**: 前后端分离 + 三层架构设计
4. **功能完整**: 覆盖电商核心业务流程
5. **文档完善**: 详细的开发和部署文档
6. **代码规范**: 统一的编码规范和最佳实践

---
*本文档最后更新时间：2025年9月17日*